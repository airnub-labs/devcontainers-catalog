{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "sidecars": [
    {
      "id": "neko-chrome",
      "image": "ghcr.io/m1k1o/neko/chrome:latest",
      "defaultPort": 8080,
      "label": "Neko Chrome UI",
      "purpose": "neko-ui",
      "recommendedPrivacy": "PRIVATE",
      "notes": "Browser-based desktop streaming for Chrome (WebRTC TCP mux; UDP disabled on Codespaces).",
      "health": {
        "method": "http",
        "port": 8080,
        "path": "/",
        "interval": "10s",
        "timeout": "3s",
        "retries": 5,
        "start_period": "20s"
      },
      "env": [
        {
          "name": "NEKO_USER_PASSWORD",
          "description": "Required password for student access",
          "required": true
        },
        {
          "name": "NEKO_ADMIN_PASSWORD",
          "description": "Required password for host/admin actions",
          "required": true
        }
      ]
    },
    {
      "id": "neko-firefox",
      "image": "ghcr.io/m1k1o/neko/firefox:latest",
      "defaultPort": 8081,
      "label": "Neko Firefox UI",
      "purpose": "neko-ui-firefox",
      "recommendedPrivacy": "PRIVATE",
      "notes": "Browser-based desktop streaming for Firefox (experimental remote debugging support).",
      "health": {
        "method": "http",
        "port": 8081,
        "path": "/",
        "interval": "10s",
        "timeout": "3s",
        "retries": 5,
        "start_period": "20s"
      },
      "env": [
        {
          "name": "NEKO_FF_USER_PASSWORD",
          "description": "Required password for student access",
          "required": true
        },
        {
          "name": "NEKO_FF_ADMIN_PASSWORD",
          "description": "Required password for host/admin actions",
          "required": true
        }
      ]
    },
    {
      "id": "kasm-chrome",
      "image": "kasmweb/chrome:1.17.0",
      "defaultPort": 6901,
      "label": "Kasm Chrome HTTPS",
      "purpose": "kasm-ui",
      "recommendedPrivacy": "PRIVATE",
      "notes": "Webtop experience with Chrome via HTTPS (Kasm Workspaces CE licence applies).",
      "health": {
        "method": "http",
        "port": 6901,
        "path": "/",
        "interval": "15s",
        "timeout": "5s",
        "retries": 6,
        "start_period": "30s"
      },
      "env": [
        {
          "name": "KASM_VNC_PW",
          "description": "Password for the default kasm user",
          "required": true
        }
      ]
    }
  ]
}
